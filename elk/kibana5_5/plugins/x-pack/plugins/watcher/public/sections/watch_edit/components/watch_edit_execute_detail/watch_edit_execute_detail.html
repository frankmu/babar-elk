<form name="watchEditExecuteDetail.triggerForm" novalidate>
  <section-collapser
    section-id="trigger"
    is-collapsed="watchEditExecuteDetail.isSectionCollapsed('trigger')"
    on-collapse="watchEditExecuteDetail.onSectionCollapse"
    on-expand="watchEditExecuteDetail.onSectionExpand"
  >
    <label class="collapserLabel">Trigger Overrides</label>
  </section-collapser>
  <div ng-hide="watchEditExecuteDetail.isSectionCollapsed('trigger')">
    <div class="kuiFormSection">
      <label
        for="triggeredTime"
        class="kuiFormLabel"
      >
        Triggered Time
      </label>
      <input
        type="text"
        id="triggeredTime"
        name="triggeredTime"
        ng-model="watchEditExecuteDetail.executeDetails.triggeredTime"
        class="kuiTextInput"
        placeholder="now"
      >
    </div>
    <div class="kuiFormSection">
      <label
        for="scheduledTime"
        class="kuiFormLabel"
      >
        Scheduled Time
      </label>
      <input
        type="text"
        id="scheduledTime"
        name="scheduledTime"
        ng-model="watchEditExecuteDetail.executeDetails.scheduledTime"
        class="kuiTextInput"
        placeholder="now"
      >
    </div>
  </div>
</form>

<section-collapser
  section-id="input"
  is-collapsed="watchEditExecuteDetail.isSectionCollapsed('input')"
  on-collapse="watchEditExecuteDetail.onSectionCollapse"
  on-expand="watchEditExecuteDetail.onSectionExpand"
>
  <label class="collapserLabel">Input Overrides</label>
</section-collapser>
<div ng-hide="watchEditExecuteDetail.isSectionCollapsed('input')">
  <div class="kuiFormSection">
    <label
      for="recordExecution"
      class="kuiFormLabel"
    >
      Alternative Input
      <a
        class="copyFromPrevious"
        ng-click="watchEditExecuteDetail.copyFromPreviousExecution()"
        ng-show="watchEditExecuteDetail.previousWatchHistoryItem"
      >
        Copy from previous execution
      </a>
    </label>

    <json-editor
      json="watchEditExecuteDetail.executeDetails.alternativeInput"
      on-change="watchEditExecuteDetail.onAlternativeInputChange"
      on-valid="watchEditExecuteDetail.onAlternativeInputValid"
      on-invalid="watchEditExecuteDetail.onAlternativeInputInvalid"
    ></json-editor>
    <div
      class="kuiInputNote kuiInputNote--danger"
      ng-show="!watchEditExecuteDetail.isAlternativeInputValid && !watchEditExecuteDetail.isAlternativeInputEmpty"
    >
      Invalid JSON
    </div>
  </div>
</div>

<form name="watchEditExecuteDetail.conditionForm" novalidate>
  <section-collapser
    section-id="condition"
    is-collapsed="watchEditExecuteDetail.isSectionCollapsed('condition')"
    on-collapse="watchEditExecuteDetail.onSectionCollapse"
    on-expand="watchEditExecuteDetail.onSectionExpand"
  >
    <label class="collapserLabel">Condition Overrides</label>
  </section-collapser>
  <div ng-hide="watchEditExecuteDetail.isSectionCollapsed('condition')">
    <div class="kuiFormSection">
      <label
        for="ignoreCondition"
        class="kuiFormLabel"
      >
        <input
          id="ignoreCondition"
          name="ignoreCondition"
          type="checkbox"
          ng-model="watchEditExecuteDetail.executeDetails.ignoreCondition"
          class="kuiCheckBox"
        >
          Ignore Condition (Condition is always true)
        </label>
    </div>
  </div>
</form>

<form name="watchEditExecuteDetail.actionForm" novalidate>
  <section-collapser
    section-id="action"
    is-collapsed="watchEditExecuteDetail.isSectionCollapsed('action')"
    on-collapse="watchEditExecuteDetail.onSectionCollapse"
    on-expand="watchEditExecuteDetail.onSectionExpand"
  >
    <label class="collapserLabel">Action Overrides</label>
  </section-collapser>
  <div ng-hide="watchEditExecuteDetail.isSectionCollapsed('action')">
    <div class="kuiFormSection">
      <label class="kuiFormLabel">
        Action Modes
      </label>
      <watch-action-mode-table
        xpack-watch="watchEditExecuteDetail.watch"
        on-change="watchEditExecuteDetail.onActionModesChanged"
      ></watch-action-mode-table>
    </div>
  </div>
</form>
