<div class="ml-influencers-list" ng-controller="MlInfluencersListController" >
    
  <div ng-repeat="(influencerfieldname, groupData) in metricsData">

    <div class="section-label">{{influencerfieldname}}</div>
    
    <div ng-repeat="influencer in groupData" class="influencer-content">
      <div class="field-label">
        <div ng-if="influencerfieldname !== 'mlcategory'" class="influencerfieldvalue">{{influencer.influencerFieldValue}}</div>
        <div ng-if="influencerfieldname === 'mlcategory'" class="influencerfieldvalue">mlcategory {{influencer.influencerFieldValue}}</div>
        <div class="filter-buttons">
          <i ng-click="filter(influencerfieldname, influencer.influencerFieldValue, '+')"
            tooltip="Filter for value" tooltip-append-to-body="1" class="fa fa-search-plus"></i>
          <i ng-click="filter(influencerfieldname, influencer.influencerFieldValue, '-')"
            tooltip="Filter out value" tooltip-append-to-body="1" class="fa fa-search-minus"></i>
        </div>
        
      </div>
      
      <div>
        <div class="progress" value="{{influencer.barScore}}" max="100">
          <div class="progress-bar {{influencer.severity}}" style="width: {{influencer.barScore}}%;" 
               tooltip-placement="left" tooltip-html-unsafe="{{influencer.tooltip}}" tooltip-append-to-body="true">
            <span class="score-label">{{influencer.maxScoreLabel}}</span>
          </div>
        </div>
        <div ng-if="influencer.totalScore > 0" class="score-label total-score-label" tooltip-placement="left" tooltip-html-unsafe="{{influencer.tooltip}}" tooltip-append-to-body="true">
          {{influencer.totalScore | abbreviateWholeNumber:4}}
        </div>
        <div ng-if="influencer.totalScore === 0" class="score-label total-score-label" tooltip-placement="left" tooltip-html-unsafe="{{influencer.tooltip}}" tooltip-append-to-body="true">
          &lt;&nbsp;1
        </div>
        
      </div>
      
    </div>
    
  </div>
    
</div>
